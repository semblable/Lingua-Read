{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kamil\\\\Dropbox\\\\Lingua_Read\\\\client\\\\lingua-read-client\\\\src\\\\pages\\\\Statistics.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Alert, Spinner, ProgressBar, Table, Badge, Form, Button } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport { getUserStatistics, getReadingActivity } from '../utils/api';\nimport { formatDate } from '../utils/helpers';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Statistics = () => {\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('all');\n  const [initializingLanguages, setInitializingLanguages] = useState(false);\n  const [readingActivity, setReadingActivity] = useState(null);\n  const [activityPeriod, setActivityPeriod] = useState('all');\n  const [loadingActivity, setLoadingActivity] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchStats = async () => {\n      setLoading(true);\n      try {\n        const data = await getUserStatistics();\n        if (data.languageStatistics && !data.LanguageStatistics) {\n          data.LanguageStatistics = data.languageStatistics;\n        } else if (data.LanguageStatistics && !data.languageStatistics) {\n          data.languageStatistics = data.LanguageStatistics;\n        }\n        if (!data.LanguageStatistics) {\n          data.LanguageStatistics = [];\n        }\n        console.log('Language statistics data:', data.LanguageStatistics);\n        console.log('Total languages:', data.TotalLanguages || data.totalLanguages);\n        setStats(data);\n      } catch (err) {\n        setError(err.message || 'Failed to load statistics');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStats();\n  }, []);\n  useEffect(() => {\n    const fetchReadingActivity = async () => {\n      setLoadingActivity(true);\n      try {\n        const data = await getReadingActivity(activityPeriod);\n        setReadingActivity(data);\n      } catch (err) {\n        console.error('Failed to load reading activity', err);\n      } finally {\n        setLoadingActivity(false);\n      }\n    };\n    fetchReadingActivity();\n  }, [activityPeriod]);\n  const handleInitializeLanguages = async () => {\n    try {\n      setInitializingLanguages(true);\n      const response = await fetch('http://localhost:5000/api/admin/initialize-languages', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Accept': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to initialize languages');\n      }\n      window.location.reload();\n    } catch (error) {\n      console.error('Error initializing languages:', error);\n      setError('Failed to initialize languages. Please try again.');\n    } finally {\n      setInitializingLanguages(false);\n    }\n  };\n  if (loading) {\n    return _jsxDEV(Container, {\n      className: \"mt-4 text-center\",\n      children: [_jsxDEV(Spinner, {\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), _jsxDEV(\"p\", {\n        children: \"Loading your statistics...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return _jsxDEV(Container, {\n      className: \"mt-4\",\n      children: _jsxDEV(Alert, {\n        variant: \"danger\",\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n  }\n  if (!stats) {\n    return _jsxDEV(Container, {\n      className: \"mt-4\",\n      children: _jsxDEV(Alert, {\n        variant: \"warning\",\n        children: \"No statistics available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n  const completionPercentage = stats.TotalWords > 0 ? Math.round(stats.KnownWords / stats.TotalWords * 100) : 0;\n  const languageStats = stats?.LanguageStatistics || stats?.languageStatistics || [];\n  const totalLanguages = stats?.TotalLanguages || stats?.totalLanguages || 0;\n  const filteredLanguageStats = selectedLanguage === 'all' ? languageStats : languageStats.filter(lang => lang.LanguageId?.toString() === selectedLanguage || lang.languageId?.toString() === selectedLanguage);\n  return _jsxDEV(Container, {\n    className: \"mt-4\",\n    children: [_jsxDEV(\"h1\", {\n      className: \"mb-4\",\n      children: \"Learning Statistics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), _jsxDEV(Row, {\n      className: \"mb-4\",\n      children: [_jsxDEV(Col, {\n        md: 8,\n        className: \"mb-4\",\n        children: _jsxDEV(Card, {\n          children: [_jsxDEV(Card.Header, {\n            as: \"h4\",\n            children: \"Overall Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), _jsxDEV(Card.Body, {\n            children: [_jsxDEV(\"h5\", {\n              children: \"Vocabulary Knowledge\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), _jsxDEV(ProgressBar, {\n              now: completionPercentage,\n              label: `${completionPercentage}%`,\n              className: \"mb-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), _jsxDEV(Row, {\n              className: \"text-center mt-4\",\n              children: [_jsxDEV(Col, {\n                xs: 4,\n                children: _jsxDEV(\"div\", {\n                  className: \"border rounded p-3 h-100\",\n                  children: [_jsxDEV(\"h2\", {\n                    className: \"mb-0\",\n                    children: stats.TotalWords\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 21\n                  }, this), _jsxDEV(\"p\", {\n                    className: \"text-muted\",\n                    children: \"Total Words\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), _jsxDEV(Col, {\n                xs: 4,\n                children: _jsxDEV(\"div\", {\n                  className: \"border rounded p-3 h-100 bg-success bg-opacity-10\",\n                  children: [_jsxDEV(\"h2\", {\n                    className: \"mb-0\",\n                    children: stats.KnownWords\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 21\n                  }, this), _jsxDEV(\"p\", {\n                    className: \"text-muted\",\n                    children: \"Known Words\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this), _jsxDEV(Col, {\n                xs: 4,\n                children: _jsxDEV(\"div\", {\n                  className: \"border rounded p-3 h-100 bg-warning bg-opacity-10\",\n                  children: [_jsxDEV(\"h2\", {\n                    className: \"mb-0\",\n                    children: stats.LearningWords\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 21\n                  }, this), _jsxDEV(\"p\", {\n                    className: \"text-muted\",\n                    children: \"Learning Words\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), _jsxDEV(Col, {\n        md: 4,\n        className: \"mb-4\",\n        children: _jsxDEV(Card, {\n          children: [_jsxDEV(Card.Header, {\n            as: \"h4\",\n            children: \"Reading Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), _jsxDEV(Card.Body, {\n            children: [_jsxDEV(Row, {\n              className: \"text-center\",\n              children: [_jsxDEV(Col, {\n                xs: 6,\n                className: \"mb-3\",\n                children: _jsxDEV(\"div\", {\n                  className: \"border rounded p-3\",\n                  children: [_jsxDEV(\"h2\", {\n                    className: \"mb-0\",\n                    children: stats.TotalBooks\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 21\n                  }, this), _jsxDEV(\"p\", {\n                    className: \"text-muted\",\n                    children: \"Total Books\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), _jsxDEV(Col, {\n                xs: 6,\n                className: \"mb-3\",\n                children: _jsxDEV(\"div\", {\n                  className: \"border rounded p-3 bg-success bg-opacity-10\",\n                  children: [_jsxDEV(\"h2\", {\n                    className: \"mb-0\",\n                    children: stats.FinishedBooks\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 21\n                  }, this), _jsxDEV(\"p\", {\n                    className: \"text-muted\",\n                    children: \"Finished Books\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), _jsxDEV(\"div\", {\n              className: \"mt-3 border rounded p-3 bg-info bg-opacity-10\",\n              children: [_jsxDEV(\"p\", {\n                className: \"mb-1 text-muted\",\n                children: \"Total Words Read:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), _jsxDEV(\"h3\", {\n                className: \"mb-0\",\n                children: stats?.LanguageStatistics?.reduce((total, lang) => total + (lang.TotalWordsRead || 0), 0) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), _jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [_jsxDEV(\"p\", {\n                className: \"mb-1\",\n                children: \"Last activity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), _jsxDEV(\"p\", {\n                className: \"fw-bold\",\n                children: formatDate(stats.LastActivity)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), _jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [_jsxDEV(\"p\", {\n                className: \"mb-1\",\n                children: \"Languages:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), _jsxDEV(\"p\", {\n                className: \"fw-bold\",\n                children: totalLanguages\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), _jsxDEV(Card, {\n      children: [_jsxDEV(Card.Header, {\n        as: \"h4\",\n        children: _jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center\",\n          children: [_jsxDEV(\"span\", {\n            children: \"Language Statistics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), languageStats.length > 0 ? _jsxDEV(Form.Select, {\n            style: {\n              width: 'auto'\n            },\n            value: selectedLanguage,\n            onChange: e => setSelectedLanguage(e.target.value),\n            children: [_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Languages\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this), languageStats.map(lang => _jsxDEV(\"option\", {\n              value: (lang.LanguageId || lang.languageId).toString(),\n              children: lang.LanguageName || lang.languageName\n            }, lang.LanguageId || lang.languageId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this) : _jsxDEV(Button, {\n            variant: \"primary\",\n            size: \"sm\",\n            onClick: handleInitializeLanguages,\n            disabled: initializingLanguages,\n            children: initializingLanguages ? 'Initializing...' : 'Initialize Languages'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), _jsxDEV(Card.Body, {\n        children: filteredLanguageStats && filteredLanguageStats.length > 0 ? _jsxDEV(Table, {\n          responsive: true,\n          striped: true,\n          hover: true,\n          children: [_jsxDEV(\"thead\", {\n            children: _jsxDEV(\"tr\", {\n              children: [_jsxDEV(\"th\", {\n                children: \"Language\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this), _jsxDEV(\"th\", {\n                children: \"Word Count\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this), _jsxDEV(\"th\", {\n                children: \"Total Words Read\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), _jsxDEV(\"th\", {\n                children: \"Books\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), _jsxDEV(\"th\", {\n                children: \"Completed Books\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), _jsxDEV(\"th\", {\n                children: \"Completion Rate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), _jsxDEV(\"tbody\", {\n            children: filteredLanguageStats.map(lang => {\n              const bookCompletionRate = lang.BookCount > 0 ? Math.round(lang.FinishedBookCount / lang.BookCount * 100) : 0;\n              return _jsxDEV(\"tr\", {\n                children: [_jsxDEV(\"td\", {\n                  children: lang.LanguageName || lang.languageName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 23\n                }, this), _jsxDEV(\"td\", {\n                  children: lang.WordCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 23\n                }, this), _jsxDEV(\"td\", {\n                  children: lang.TotalWordsRead || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 23\n                }, this), _jsxDEV(\"td\", {\n                  children: lang.BookCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 23\n                }, this), _jsxDEV(\"td\", {\n                  children: lang.FinishedBookCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 23\n                }, this), _jsxDEV(\"td\", {\n                  children: _jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center\",\n                    children: [_jsxDEV(ProgressBar, {\n                      now: bookCompletionRate,\n                      style: {\n                        width: '100px',\n                        height: '10px'\n                      },\n                      className: \"me-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 27\n                    }, this), _jsxDEV(\"span\", {\n                      children: [bookCompletionRate, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 23\n                }, this)]\n              }, lang.LanguageId || lang.languageId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this) : _jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [_jsxDEV(\"p\", {\n            children: \"No language statistics available.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this), _jsxDEV(\"p\", {\n            children: \"This could be because no languages exist in the database or you haven't logged any reading activity yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this), languageStats.length === 0 && _jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleInitializeLanguages,\n            disabled: initializingLanguages,\n            children: initializingLanguages ? 'Initializing...' : 'Initialize Languages'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), _jsxDEV(Card, {\n      className: \"mt-4\",\n      children: [_jsxDEV(Card.Header, {\n        as: \"h4\",\n        children: _jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center\",\n          children: [_jsxDEV(\"span\", {\n            children: \"Reading Activity Over Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), _jsxDEV(Form.Select, {\n            style: {\n              width: 'auto'\n            },\n            value: activityPeriod,\n            onChange: e => setActivityPeriod(e.target.value),\n            children: [_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), _jsxDEV(\"option\", {\n              value: \"today\",\n              children: \"Today\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this), _jsxDEV(\"option\", {\n              value: \"week\",\n              children: \"Last 7 Days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), _jsxDEV(\"option\", {\n              value: \"month\",\n              children: \"Last 30 Days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), _jsxDEV(\"option\", {\n              value: \"3months\",\n              children: \"Last 3 Months\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), _jsxDEV(\"option\", {\n              value: \"6months\",\n              children: \"Last 6 Months\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), _jsxDEV(\"option\", {\n              value: \"year\",\n              children: \"Last Year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), _jsxDEV(Card.Body, {\n        children: loadingActivity ? _jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [_jsxDEV(Spinner, {\n            animation: \"border\",\n            size: \"sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), _jsxDEV(\"p\", {\n            children: \"Loading activity data...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this) : !readingActivity ? _jsxDEV(Alert, {\n          variant: \"info\",\n          children: \"No reading activity data available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this) : _jsxDEV(_Fragment, {\n          children: [_jsxDEV(Row, {\n            className: \"mb-4\",\n            children: _jsxDEV(Col, {\n              md: 12,\n              children: _jsxDEV(\"div\", {\n                className: \"border rounded p-3 bg-light\",\n                children: _jsxDEV(\"h4\", {\n                  className: \"text-center\",\n                  children: [\"Total Words Read: \", readingActivity?.TotalWordsRead || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), _jsxDEV(Row, {\n            children: [_jsxDEV(Col, {\n              md: 6,\n              className: \"mb-3\",\n              children: [_jsxDEV(\"h5\", {\n                children: \"Activity by Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), !readingActivity || !readingActivity.ActivityByDate || Object.keys(readingActivity.ActivityByDate).length === 0 ? _jsxDEV(\"p\", {\n                children: \"No data available for the selected period.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 21\n              }, this) : _jsxDEV(Table, {\n                responsive: true,\n                striped: true,\n                hover: true,\n                children: [_jsxDEV(\"thead\", {\n                  children: _jsxDEV(\"tr\", {\n                    children: [_jsxDEV(\"th\", {\n                      children: \"Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 27\n                    }, this), _jsxDEV(\"th\", {\n                      children: \"Words Read\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this), _jsxDEV(\"tbody\", {\n                  children: Object.entries(readingActivity.ActivityByDate || {}).map(([date, count]) => _jsxDEV(\"tr\", {\n                    children: [_jsxDEV(\"td\", {\n                      children: date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 31\n                    }, this), _jsxDEV(\"td\", {\n                      children: count\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 31\n                    }, this)]\n                  }, date, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this), _jsxDEV(Col, {\n              md: 6,\n              children: [_jsxDEV(\"h5\", {\n                children: \"Activity by Language\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this), !readingActivity || !readingActivity.ActivityByLanguage || Object.keys(readingActivity.ActivityByLanguage).length === 0 ? _jsxDEV(\"p\", {\n                children: \"No data available for the selected period.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 21\n              }, this) : _jsxDEV(Table, {\n                responsive: true,\n                striped: true,\n                hover: true,\n                children: [_jsxDEV(\"thead\", {\n                  children: _jsxDEV(\"tr\", {\n                    children: [_jsxDEV(\"th\", {\n                      children: \"Language\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 27\n                    }, this), _jsxDEV(\"th\", {\n                      children: \"Words Read\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 23\n                }, this), _jsxDEV(\"tbody\", {\n                  children: Object.entries(readingActivity.ActivityByLanguage || {}).map(([language, count]) => _jsxDEV(\"tr\", {\n                    children: [_jsxDEV(\"td\", {\n                      children: language\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 31\n                    }, this), _jsxDEV(\"td\", {\n                      children: count\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 31\n                    }, this)]\n                  }, language, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\nexport default Statistics;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Card","Alert","Spinner","ProgressBar","Table","Badge","Form","Button","useNavigate","getUserStatistics","getReadingActivity","formatDate","jsxDEV","_jsxDEV","Fragment","_Fragment","Statistics","stats","setStats","loading","setLoading","error","setError","selectedLanguage","setSelectedLanguage","initializingLanguages","setInitializingLanguages","readingActivity","setReadingActivity","activityPeriod","setActivityPeriod","loadingActivity","setLoadingActivity","navigate","fetchStats","data","languageStatistics","LanguageStatistics","console","log","TotalLanguages","totalLanguages","err","message","fetchReadingActivity","handleInitializeLanguages","response","fetch","headers","localStorage","getItem","ok","Error","window","location","reload","className","children","animation","fileName","_jsxFileName","lineNumber","columnNumber","variant","completionPercentage","TotalWords","Math","round","KnownWords","languageStats","filteredLanguageStats","filter","lang","LanguageId","toString","languageId","md","Header","as","Body","now","label","xs","LearningWords","TotalBooks","FinishedBooks","reduce","total","TotalWordsRead","LastActivity","length","Select","style","width","value","onChange","e","target","map","LanguageName","languageName","size","onClick","disabled","responsive","striped","hover","bookCompletionRate","BookCount","FinishedBookCount","WordCount","height","ActivityByDate","Object","keys","entries","date","count","ActivityByLanguage","language"],"sources":["C:/Users/kamil/Dropbox/Lingua_Read/client/lingua-read-client/src/pages/Statistics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Card, Alert, Spinner, ProgressBar, Table, Badge, Form, Button } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport { getUserStatistics, getReadingActivity } from '../utils/api';\nimport { formatDate } from '../utils/helpers';\n\nconst Statistics = () => {\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('all');\n  const [initializingLanguages, setInitializingLanguages] = useState(false);\n  const [readingActivity, setReadingActivity] = useState(null);\n  const [activityPeriod, setActivityPeriod] = useState('all');\n  const [loadingActivity, setLoadingActivity] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      setLoading(true);\n      try {\n        const data = await getUserStatistics();\n        \n        // Fix case sensitivity issues - ensure we have properties in both formats\n        if (data.languageStatistics && !data.LanguageStatistics) {\n          data.LanguageStatistics = data.languageStatistics;\n        } else if (data.LanguageStatistics && !data.languageStatistics) {\n          data.languageStatistics = data.LanguageStatistics;\n        }\n        \n        // Ensure we have an array\n        if (!data.LanguageStatistics) {\n          data.LanguageStatistics = [];\n        }\n        \n        // Debug logging\n        console.log('Language statistics data:', data.LanguageStatistics);\n        console.log('Total languages:', data.TotalLanguages || data.totalLanguages);\n        \n        setStats(data);\n      } catch (err) {\n        setError(err.message || 'Failed to load statistics');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchStats();\n  }, []);\n  \n  useEffect(() => {\n    const fetchReadingActivity = async () => {\n      setLoadingActivity(true);\n      try {\n        const data = await getReadingActivity(activityPeriod);\n        setReadingActivity(data);\n      } catch (err) {\n        console.error('Failed to load reading activity', err);\n      } finally {\n        setLoadingActivity(false);\n      }\n    };\n    \n    fetchReadingActivity();\n  }, [activityPeriod]);\n\n  // Function to initialize languages if none exist\n  const handleInitializeLanguages = async () => {\n    try {\n      setInitializingLanguages(true);\n      \n      // Call the admin endpoint to initialize languages\n      const response = await fetch('http://localhost:5000/api/admin/initialize-languages', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Accept': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error('Failed to initialize languages');\n      }\n      \n      // Refresh the page to reload data\n      window.location.reload();\n    } catch (error) {\n      console.error('Error initializing languages:', error);\n      setError('Failed to initialize languages. Please try again.');\n    } finally {\n      setInitializingLanguages(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Container className=\"mt-4 text-center\">\n        <Spinner animation=\"border\" />\n        <p>Loading your statistics...</p>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container className=\"mt-4\">\n        <Alert variant=\"danger\">\n          Error: {error}\n        </Alert>\n      </Container>\n    );\n  }\n\n  if (!stats) {\n    return (\n      <Container className=\"mt-4\">\n        <Alert variant=\"warning\">\n          No statistics available\n        </Alert>\n      </Container>\n    );\n  }\n\n  const completionPercentage = stats.TotalWords > 0 \n    ? Math.round((stats.KnownWords / stats.TotalWords) * 100) \n    : 0;\n\n  // Get language statistics safely\n  const languageStats = stats?.LanguageStatistics || stats?.languageStatistics || [];\n  const totalLanguages = stats?.TotalLanguages || stats?.totalLanguages || 0;\n\n  // Filter language statistics if a specific language is selected\n  const filteredLanguageStats = selectedLanguage === 'all' \n    ? languageStats \n    : languageStats.filter(lang => lang.LanguageId?.toString() === selectedLanguage || \n                                  lang.languageId?.toString() === selectedLanguage);\n\n  return (\n    <Container className=\"mt-4\">\n      <h1 className=\"mb-4\">Learning Statistics</h1>\n      \n      <Row className=\"mb-4\">\n        <Col md={8} className=\"mb-4\">\n          <Card>\n            <Card.Header as=\"h4\">Overall Progress</Card.Header>\n            <Card.Body>\n              <h5>Vocabulary Knowledge</h5>\n              <ProgressBar now={completionPercentage} label={`${completionPercentage}%`} className=\"mb-3\" />\n              \n              <Row className=\"text-center mt-4\">\n                <Col xs={4}>\n                  <div className=\"border rounded p-3 h-100\">\n                    <h2 className=\"mb-0\">{stats.TotalWords}</h2>\n                    <p className=\"text-muted\">Total Words</p>\n                  </div>\n                </Col>\n                <Col xs={4}>\n                  <div className=\"border rounded p-3 h-100 bg-success bg-opacity-10\">\n                    <h2 className=\"mb-0\">{stats.KnownWords}</h2>\n                    <p className=\"text-muted\">Known Words</p>\n                  </div>\n                </Col>\n                <Col xs={4}>\n                  <div className=\"border rounded p-3 h-100 bg-warning bg-opacity-10\">\n                    <h2 className=\"mb-0\">{stats.LearningWords}</h2>\n                    <p className=\"text-muted\">Learning Words</p>\n                  </div>\n                </Col>\n              </Row>\n            </Card.Body>\n          </Card>\n        </Col>\n        \n        <Col md={4} className=\"mb-4\">\n          <Card>\n            <Card.Header as=\"h4\">Reading Summary</Card.Header>\n            <Card.Body>\n              <Row className=\"text-center\">\n                <Col xs={6} className=\"mb-3\">\n                  <div className=\"border rounded p-3\">\n                    <h2 className=\"mb-0\">{stats.TotalBooks}</h2>\n                    <p className=\"text-muted\">Total Books</p>\n                  </div>\n                </Col>\n                <Col xs={6} className=\"mb-3\">\n                  <div className=\"border rounded p-3 bg-success bg-opacity-10\">\n                    <h2 className=\"mb-0\">{stats.FinishedBooks}</h2>\n                    <p className=\"text-muted\">Finished Books</p>\n                  </div>\n                </Col>\n              </Row>\n              \n              {/* Total Words Read section */}\n              <div className=\"mt-3 border rounded p-3 bg-info bg-opacity-10\">\n                <p className=\"mb-1 text-muted\">Total Words Read:</p>\n                <h3 className=\"mb-0\">\n                  {stats?.LanguageStatistics?.reduce((total, lang) => total + (lang.TotalWordsRead || 0), 0) || 0}\n                </h3>\n              </div>\n              \n              <div className=\"mt-3\">\n                <p className=\"mb-1\">Last activity:</p>\n                <p className=\"fw-bold\">{formatDate(stats.LastActivity)}</p>\n              </div>\n              \n              <div className=\"mt-3\">\n                <p className=\"mb-1\">Languages:</p>\n                <p className=\"fw-bold\">{totalLanguages}</p>\n              </div>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n      \n      <Card>\n        <Card.Header as=\"h4\">\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <span>Language Statistics</span>\n            {languageStats.length > 0 ? (\n              <Form.Select \n                style={{ width: 'auto' }} \n                value={selectedLanguage}\n                onChange={(e) => setSelectedLanguage(e.target.value)}\n              >\n                <option value=\"all\">All Languages</option>\n                {languageStats.map(lang => (\n                  <option \n                    key={lang.LanguageId || lang.languageId} \n                    value={(lang.LanguageId || lang.languageId).toString()}\n                  >\n                    {lang.LanguageName || lang.languageName}\n                  </option>\n                ))}\n              </Form.Select>\n            ) : (\n              <Button \n                variant=\"primary\" \n                size=\"sm\"\n                onClick={handleInitializeLanguages}\n                disabled={initializingLanguages}\n              >\n                {initializingLanguages ? 'Initializing...' : 'Initialize Languages'}\n              </Button>\n            )}\n          </div>\n        </Card.Header>\n        <Card.Body>\n          {filteredLanguageStats && filteredLanguageStats.length > 0 ? (\n            <Table responsive striped hover>\n              <thead>\n                <tr>\n                  <th>Language</th>\n                  <th>Word Count</th>\n                  <th>Total Words Read</th>\n                  <th>Books</th>\n                  <th>Completed Books</th>\n                  <th>Completion Rate</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredLanguageStats.map(lang => {\n                  const bookCompletionRate = lang.BookCount > 0 \n                    ? Math.round((lang.FinishedBookCount / lang.BookCount) * 100) \n                    : 0;\n                  \n                  return (\n                    <tr key={lang.LanguageId || lang.languageId}>\n                      <td>{lang.LanguageName || lang.languageName}</td>\n                      <td>{lang.WordCount}</td>\n                      <td>{lang.TotalWordsRead || 0}</td>\n                      <td>{lang.BookCount}</td>\n                      <td>{lang.FinishedBookCount}</td>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <ProgressBar \n                            now={bookCompletionRate} \n                            style={{ width: '100px', height: '10px' }} \n                            className=\"me-2\" \n                          />\n                          <span>{bookCompletionRate}%</span>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </Table>\n          ) : (\n            <div className=\"text-center\">\n              <p>No language statistics available.</p>\n              <p>This could be because no languages exist in the database or you haven't logged any reading activity yet.</p>\n              {languageStats.length === 0 && (\n                <Button \n                  variant=\"primary\"\n                  onClick={handleInitializeLanguages}\n                  disabled={initializingLanguages}\n                >\n                  {initializingLanguages ? 'Initializing...' : 'Initialize Languages'}\n                </Button>\n              )}\n            </div>\n          )}\n        </Card.Body>\n      </Card>\n      \n      <Card className=\"mt-4\">\n        <Card.Header as=\"h4\">\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <span>Reading Activity Over Time</span>\n            <Form.Select \n              style={{ width: 'auto' }} \n              value={activityPeriod}\n              onChange={(e) => setActivityPeriod(e.target.value)}\n            >\n              <option value=\"all\">All Time</option>\n              <option value=\"today\">Today</option>\n              <option value=\"week\">Last 7 Days</option>\n              <option value=\"month\">Last 30 Days</option>\n              <option value=\"3months\">Last 3 Months</option>\n              <option value=\"6months\">Last 6 Months</option>\n              <option value=\"year\">Last Year</option>\n            </Form.Select>\n          </div>\n        </Card.Header>\n        <Card.Body>\n          {loadingActivity ? (\n            <div className=\"text-center\">\n              <Spinner animation=\"border\" size=\"sm\" />\n              <p>Loading activity data...</p>\n            </div>\n          ) : !readingActivity ? (\n            <Alert variant=\"info\">No reading activity data available.</Alert>\n          ) : (\n            <>\n              <Row className=\"mb-4\">\n                <Col md={12}>\n                  <div className=\"border rounded p-3 bg-light\">\n                    <h4 className=\"text-center\">Total Words Read: {readingActivity?.TotalWordsRead || 0}</h4>\n                  </div>\n                </Col>\n              </Row>\n              \n              <Row>\n                <Col md={6} className=\"mb-3\">\n                  <h5>Activity by Date</h5>\n                  {!readingActivity || !readingActivity.ActivityByDate || Object.keys(readingActivity.ActivityByDate).length === 0 ? (\n                    <p>No data available for the selected period.</p>\n                  ) : (\n                    <Table responsive striped hover>\n                      <thead>\n                        <tr>\n                          <th>Date</th>\n                          <th>Words Read</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {Object.entries(readingActivity.ActivityByDate || {})\n                          .map(([date, count]) => (\n                            <tr key={date}>\n                              <td>{date}</td>\n                              <td>{count}</td>\n                            </tr>\n                          ))}\n                      </tbody>\n                    </Table>\n                  )}\n                </Col>\n                \n                <Col md={6}>\n                  <h5>Activity by Language</h5>\n                  {!readingActivity || !readingActivity.ActivityByLanguage || Object.keys(readingActivity.ActivityByLanguage).length === 0 ? (\n                    <p>No data available for the selected period.</p>\n                  ) : (\n                    <Table responsive striped hover>\n                      <thead>\n                        <tr>\n                          <th>Language</th>\n                          <th>Words Read</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {Object.entries(readingActivity.ActivityByLanguage || {})\n                          .map(([language, count]) => (\n                            <tr key={language}>\n                              <td>{language}</td>\n                              <td>{count}</td>\n                            </tr>\n                          ))}\n                      </tbody>\n                    </Table>\n                  )}\n                </Col>\n              </Row>\n            </>\n          )}\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n};\n\nexport default Statistics; "],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,KAAK,EAAEC,OAAO,EAAEC,WAAW,EAAEC,KAAK,EAAEC,KAAK,EAAEC,IAAI,EAAEC,MAAM,QAAQ,iBAAiB;AACpH,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,iBAAiB,EAAEC,kBAAkB,QAAQ,cAAc;AACpE,SAASC,UAAU,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9C,MAAMC,UAAU,GAAGA,CAAA,KAAM;EACvB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC0B,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC4B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAAC8B,qBAAqB,EAAEC,wBAAwB,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EACzE,MAAM,CAACgC,eAAe,EAAEC,kBAAkB,CAAC,GAAGjC,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACkC,cAAc,EAAEC,iBAAiB,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACoC,eAAe,EAAEC,kBAAkB,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAMsC,QAAQ,GAAGzB,WAAW,CAAC,CAAC;EAE9BZ,SAAS,CAAC,MAAM;IACd,MAAMsC,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7Bd,UAAU,CAAC,IAAI,CAAC;MAChB,IAAI;QACF,MAAMe,IAAI,GAAG,MAAM1B,iBAAiB,CAAC,CAAC;QAGtC,IAAI0B,IAAI,CAACC,kBAAkB,IAAI,CAACD,IAAI,CAACE,kBAAkB,EAAE;UACvDF,IAAI,CAACE,kBAAkB,GAAGF,IAAI,CAACC,kBAAkB;QACnD,CAAC,MAAM,IAAID,IAAI,CAACE,kBAAkB,IAAI,CAACF,IAAI,CAACC,kBAAkB,EAAE;UAC9DD,IAAI,CAACC,kBAAkB,GAAGD,IAAI,CAACE,kBAAkB;QACnD;QAGA,IAAI,CAACF,IAAI,CAACE,kBAAkB,EAAE;UAC5BF,IAAI,CAACE,kBAAkB,GAAG,EAAE;QAC9B;QAGAC,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEJ,IAAI,CAACE,kBAAkB,CAAC;QACjEC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEJ,IAAI,CAACK,cAAc,IAAIL,IAAI,CAACM,cAAc,CAAC;QAE3EvB,QAAQ,CAACiB,IAAI,CAAC;MAChB,CAAC,CAAC,OAAOO,GAAG,EAAE;QACZpB,QAAQ,CAACoB,GAAG,CAACC,OAAO,IAAI,2BAA2B,CAAC;MACtD,CAAC,SAAS;QACRvB,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDc,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAENtC,SAAS,CAAC,MAAM;IACd,MAAMgD,oBAAoB,GAAG,MAAAA,CAAA,KAAY;MACvCZ,kBAAkB,CAAC,IAAI,CAAC;MACxB,IAAI;QACF,MAAMG,IAAI,GAAG,MAAMzB,kBAAkB,CAACmB,cAAc,CAAC;QACrDD,kBAAkB,CAACO,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOO,GAAG,EAAE;QACZJ,OAAO,CAACjB,KAAK,CAAC,iCAAiC,EAAEqB,GAAG,CAAC;MACvD,CAAC,SAAS;QACRV,kBAAkB,CAAC,KAAK,CAAC;MAC3B;IACF,CAAC;IAEDY,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACf,cAAc,CAAC,CAAC;EAGpB,MAAMgB,yBAAyB,GAAG,MAAAA,CAAA,KAAY;IAC5C,IAAI;MACFnB,wBAAwB,CAAC,IAAI,CAAC;MAG9B,MAAMoB,QAAQ,GAAG,MAAMC,KAAK,CAAC,sDAAsD,EAAE;QACnFC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;UAC1D,QAAQ,EAAE;QACZ;MACF,CAAC,CAAC;MAEF,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,gCAAgC,CAAC;MACnD;MAGAC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOlC,KAAK,EAAE;MACdiB,OAAO,CAACjB,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDC,QAAQ,CAAC,mDAAmD,CAAC;IAC/D,CAAC,SAAS;MACRI,wBAAwB,CAAC,KAAK,CAAC;IACjC;EACF,CAAC;EAED,IAAIP,OAAO,EAAE;IACX,OACEN,OAAA,CAAChB,SAAS;MAAC2D,SAAS,EAAC,kBAAkB;MAAAC,QAAA,GACrC5C,OAAA,CAACX,OAAO;QAACwD,SAAS,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC9BjD,OAAA;QAAA4C,QAAA,EAAG;MAA0B;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC;EAEhB;EAEA,IAAIzC,KAAK,EAAE;IACT,OACER,OAAA,CAAChB,SAAS;MAAC2D,SAAS,EAAC,MAAM;MAAAC,QAAA,EACzB5C,OAAA,CAACZ,KAAK;QAAC8D,OAAO,EAAC,QAAQ;QAAAN,QAAA,GAAC,SACf,EAACpC,KAAK;MAAA;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEhB;EAEA,IAAI,CAAC7C,KAAK,EAAE;IACV,OACEJ,OAAA,CAAChB,SAAS;MAAC2D,SAAS,EAAC,MAAM;MAAAC,QAAA,EACzB5C,OAAA,CAACZ,KAAK;QAAC8D,OAAO,EAAC,SAAS;QAAAN,QAAA,EAAC;MAEzB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEhB;EAEA,MAAME,oBAAoB,GAAG/C,KAAK,CAACgD,UAAU,GAAG,CAAC,GAC7CC,IAAI,CAACC,KAAK,CAAElD,KAAK,CAACmD,UAAU,GAAGnD,KAAK,CAACgD,UAAU,GAAI,GAAG,CAAC,GACvD,CAAC;EAGL,MAAMI,aAAa,GAAGpD,KAAK,EAAEoB,kBAAkB,IAAIpB,KAAK,EAAEmB,kBAAkB,IAAI,EAAE;EAClF,MAAMK,cAAc,GAAGxB,KAAK,EAAEuB,cAAc,IAAIvB,KAAK,EAAEwB,cAAc,IAAI,CAAC;EAG1E,MAAM6B,qBAAqB,GAAG/C,gBAAgB,KAAK,KAAK,GACpD8C,aAAa,GACbA,aAAa,CAACE,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,UAAU,EAAEC,QAAQ,CAAC,CAAC,KAAKnD,gBAAgB,IACjDiD,IAAI,CAACG,UAAU,EAAED,QAAQ,CAAC,CAAC,KAAKnD,gBAAgB,CAAC;EAEjF,OACEV,OAAA,CAAChB,SAAS;IAAC2D,SAAS,EAAC,MAAM;IAAAC,QAAA,GACzB5C,OAAA;MAAI2C,SAAS,EAAC,MAAM;MAAAC,QAAA,EAAC;IAAmB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAE7CjD,OAAA,CAACf,GAAG;MAAC0D,SAAS,EAAC,MAAM;MAAAC,QAAA,GACnB5C,OAAA,CAACd,GAAG;QAAC6E,EAAE,EAAE,CAAE;QAACpB,SAAS,EAAC,MAAM;QAAAC,QAAA,EAC1B5C,OAAA,CAACb,IAAI;UAAAyD,QAAA,GACH5C,OAAA,CAACb,IAAI,CAAC6E,MAAM;YAACC,EAAE,EAAC,IAAI;YAAArB,QAAA,EAAC;UAAgB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAa,CAAC,EACnDjD,OAAA,CAACb,IAAI,CAAC+E,IAAI;YAAAtB,QAAA,GACR5C,OAAA;cAAA4C,QAAA,EAAI;YAAoB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAC7BjD,OAAA,CAACV,WAAW;cAAC6E,GAAG,EAAEhB,oBAAqB;cAACiB,KAAK,EAAE,GAAGjB,oBAAoB,GAAI;cAACR,SAAS,EAAC;YAAM;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EAE9FjD,OAAA,CAACf,GAAG;cAAC0D,SAAS,EAAC,kBAAkB;cAAAC,QAAA,GAC/B5C,OAAA,CAACd,GAAG;gBAACmF,EAAE,EAAE,CAAE;gBAAAzB,QAAA,EACT5C,OAAA;kBAAK2C,SAAS,EAAC,0BAA0B;kBAAAC,QAAA,GACvC5C,OAAA;oBAAI2C,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAExC,KAAK,CAACgD;kBAAU;oBAAAN,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,EAC5CjD,OAAA;oBAAG2C,SAAS,EAAC,YAAY;oBAAAC,QAAA,EAAC;kBAAW;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EACNjD,OAAA,CAACd,GAAG;gBAACmF,EAAE,EAAE,CAAE;gBAAAzB,QAAA,EACT5C,OAAA;kBAAK2C,SAAS,EAAC,mDAAmD;kBAAAC,QAAA,GAChE5C,OAAA;oBAAI2C,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAExC,KAAK,CAACmD;kBAAU;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,EAC5CjD,OAAA;oBAAG2C,SAAS,EAAC,YAAY;oBAAAC,QAAA,EAAC;kBAAW;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EACNjD,OAAA,CAACd,GAAG;gBAACmF,EAAE,EAAE,CAAE;gBAAAzB,QAAA,EACT5C,OAAA;kBAAK2C,SAAS,EAAC,mDAAmD;kBAAAC,QAAA,GAChE5C,OAAA;oBAAI2C,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAExC,KAAK,CAACkE;kBAAa;oBAAAxB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,EAC/CjD,OAAA;oBAAG2C,SAAS,EAAC,YAAY;oBAAAC,QAAA,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,EAENjD,OAAA,CAACd,GAAG;QAAC6E,EAAE,EAAE,CAAE;QAACpB,SAAS,EAAC,MAAM;QAAAC,QAAA,EAC1B5C,OAAA,CAACb,IAAI;UAAAyD,QAAA,GACH5C,OAAA,CAACb,IAAI,CAAC6E,MAAM;YAACC,EAAE,EAAC,IAAI;YAAArB,QAAA,EAAC;UAAe;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAa,CAAC,EAClDjD,OAAA,CAACb,IAAI,CAAC+E,IAAI;YAAAtB,QAAA,GACR5C,OAAA,CAACf,GAAG;cAAC0D,SAAS,EAAC,aAAa;cAAAC,QAAA,GAC1B5C,OAAA,CAACd,GAAG;gBAACmF,EAAE,EAAE,CAAE;gBAAC1B,SAAS,EAAC,MAAM;gBAAAC,QAAA,EAC1B5C,OAAA;kBAAK2C,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,GACjC5C,OAAA;oBAAI2C,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAExC,KAAK,CAACmE;kBAAU;oBAAAzB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,EAC5CjD,OAAA;oBAAG2C,SAAS,EAAC,YAAY;oBAAAC,QAAA,EAAC;kBAAW;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EACNjD,OAAA,CAACd,GAAG;gBAACmF,EAAE,EAAE,CAAE;gBAAC1B,SAAS,EAAC,MAAM;gBAAAC,QAAA,EAC1B5C,OAAA;kBAAK2C,SAAS,EAAC,6CAA6C;kBAAAC,QAAA,GAC1D5C,OAAA;oBAAI2C,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAExC,KAAK,CAACoE;kBAAa;oBAAA1B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,EAC/CjD,OAAA;oBAAG2C,SAAS,EAAC,YAAY;oBAAAC,QAAA,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EAGNjD,OAAA;cAAK2C,SAAS,EAAC,+CAA+C;cAAAC,QAAA,GAC5D5C,OAAA;gBAAG2C,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,EAAC;cAAiB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,EACpDjD,OAAA;gBAAI2C,SAAS,EAAC,MAAM;gBAAAC,QAAA,EACjBxC,KAAK,EAAEoB,kBAAkB,EAAEiD,MAAM,CAAC,CAACC,KAAK,EAAEf,IAAI,KAAKe,KAAK,IAAIf,IAAI,CAACgB,cAAc,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI;cAAC;gBAAA7B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC,EAENjD,OAAA;cAAK2C,SAAS,EAAC,MAAM;cAAAC,QAAA,GACnB5C,OAAA;gBAAG2C,SAAS,EAAC,MAAM;gBAAAC,QAAA,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,EACtCjD,OAAA;gBAAG2C,SAAS,EAAC,SAAS;gBAAAC,QAAA,EAAE9C,UAAU,CAACM,KAAK,CAACwE,YAAY;cAAC;gBAAA9B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxD,CAAC,EAENjD,OAAA;cAAK2C,SAAS,EAAC,MAAM;cAAAC,QAAA,GACnB5C,OAAA;gBAAG2C,SAAS,EAAC,MAAM;gBAAAC,QAAA,EAAC;cAAU;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,EAClCjD,OAAA;gBAAG2C,SAAS,EAAC,SAAS;gBAAAC,QAAA,EAAEhB;cAAc;gBAAAkB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAENjD,OAAA,CAACb,IAAI;MAAAyD,QAAA,GACH5C,OAAA,CAACb,IAAI,CAAC6E,MAAM;QAACC,EAAE,EAAC,IAAI;QAAArB,QAAA,EAClB5C,OAAA;UAAK2C,SAAS,EAAC,mDAAmD;UAAAC,QAAA,GAChE5C,OAAA;YAAA4C,QAAA,EAAM;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAC/BO,aAAa,CAACqB,MAAM,GAAG,CAAC,GACvB7E,OAAA,CAACP,IAAI,CAACqF,MAAM;YACVC,KAAK,EAAE;cAAEC,KAAK,EAAE;YAAO,CAAE;YACzBC,KAAK,EAAEvE,gBAAiB;YACxBwE,QAAQ,EAAGC,CAAC,IAAKxE,mBAAmB,CAACwE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YAAArC,QAAA,GAErD5C,OAAA;cAAQiF,KAAK,EAAC,KAAK;cAAArC,QAAA,EAAC;YAAa;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACzCO,aAAa,CAAC6B,GAAG,CAAC1B,IAAI,IACrB3D,OAAA;cAEEiF,KAAK,EAAE,CAACtB,IAAI,CAACC,UAAU,IAAID,IAAI,CAACG,UAAU,EAAED,QAAQ,CAAC,CAAE;cAAAjB,QAAA,EAEtDe,IAAI,CAAC2B,YAAY,IAAI3B,IAAI,CAAC4B;YAAY,GAHlC5B,IAAI,CAACC,UAAU,IAAID,IAAI,CAACG,UAAU;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAIjC,CACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACS,CAAC,GAEdjD,OAAA,CAACN,MAAM;YACLwD,OAAO,EAAC,SAAS;YACjBsC,IAAI,EAAC,IAAI;YACTC,OAAO,EAAEzD,yBAA0B;YACnC0D,QAAQ,EAAE9E,qBAAsB;YAAAgC,QAAA,EAE/BhC,qBAAqB,GAAG,iBAAiB,GAAG;UAAsB;YAAAkC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7D,CACT;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,EACdjD,OAAA,CAACb,IAAI,CAAC+E,IAAI;QAAAtB,QAAA,EACPa,qBAAqB,IAAIA,qBAAqB,CAACoB,MAAM,GAAG,CAAC,GACxD7E,OAAA,CAACT,KAAK;UAACoG,UAAU;UAACC,OAAO;UAACC,KAAK;UAAAjD,QAAA,GAC7B5C,OAAA;YAAA4C,QAAA,EACE5C,OAAA;cAAA4C,QAAA,GACE5C,OAAA;gBAAA4C,QAAA,EAAI;cAAQ;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACjBjD,OAAA;gBAAA4C,QAAA,EAAI;cAAU;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACnBjD,OAAA;gBAAA4C,QAAA,EAAI;cAAgB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACzBjD,OAAA;gBAAA4C,QAAA,EAAI;cAAK;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACdjD,OAAA;gBAAA4C,QAAA,EAAI;cAAe;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACxBjD,OAAA;gBAAA4C,QAAA,EAAI;cAAe;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,EACRjD,OAAA;YAAA4C,QAAA,EACGa,qBAAqB,CAAC4B,GAAG,CAAC1B,IAAI,IAAI;cACjC,MAAMmC,kBAAkB,GAAGnC,IAAI,CAACoC,SAAS,GAAG,CAAC,GACzC1C,IAAI,CAACC,KAAK,CAAEK,IAAI,CAACqC,iBAAiB,GAAGrC,IAAI,CAACoC,SAAS,GAAI,GAAG,CAAC,GAC3D,CAAC;cAEL,OACE/F,OAAA;gBAAA4C,QAAA,GACE5C,OAAA;kBAAA4C,QAAA,EAAKe,IAAI,CAAC2B,YAAY,IAAI3B,IAAI,CAAC4B;gBAAY;kBAAAzC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,EACjDjD,OAAA;kBAAA4C,QAAA,EAAKe,IAAI,CAACsC;gBAAS;kBAAAnD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,EACzBjD,OAAA;kBAAA4C,QAAA,EAAKe,IAAI,CAACgB,cAAc,IAAI;gBAAC;kBAAA7B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,EACnCjD,OAAA;kBAAA4C,QAAA,EAAKe,IAAI,CAACoC;gBAAS;kBAAAjD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,EACzBjD,OAAA;kBAAA4C,QAAA,EAAKe,IAAI,CAACqC;gBAAiB;kBAAAlD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,EACjCjD,OAAA;kBAAA4C,QAAA,EACE5C,OAAA;oBAAK2C,SAAS,EAAC,2BAA2B;oBAAAC,QAAA,GACxC5C,OAAA,CAACV,WAAW;sBACV6E,GAAG,EAAE2B,kBAAmB;sBACxBf,KAAK,EAAE;wBAAEC,KAAK,EAAE,OAAO;wBAAEkB,MAAM,EAAE;sBAAO,CAAE;sBAC1CvD,SAAS,EAAC;oBAAM;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACjB,CAAC,EACFjD,OAAA;sBAAA4C,QAAA,GAAOkD,kBAAkB,EAAC,GAAC;oBAAA;sBAAAhD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/B;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC;cAAA,GAfEU,IAAI,CAACC,UAAU,IAAID,IAAI,CAACG,UAAU;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAgBvC,CAAC;YAET,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,GAERjD,OAAA;UAAK2C,SAAS,EAAC,aAAa;UAAAC,QAAA,GAC1B5C,OAAA;YAAA4C,QAAA,EAAG;UAAiC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,EACxCjD,OAAA;YAAA4C,QAAA,EAAG;UAAwG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,EAC9GO,aAAa,CAACqB,MAAM,KAAK,CAAC,IACzB7E,OAAA,CAACN,MAAM;YACLwD,OAAO,EAAC,SAAS;YACjBuC,OAAO,EAAEzD,yBAA0B;YACnC0D,QAAQ,EAAE9E,qBAAsB;YAAAgC,QAAA,EAE/BhC,qBAAqB,GAAG,iBAAiB,GAAG;UAAsB;YAAAkC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7D,CACT;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,EAEPjD,OAAA,CAACb,IAAI;MAACwD,SAAS,EAAC,MAAM;MAAAC,QAAA,GACpB5C,OAAA,CAACb,IAAI,CAAC6E,MAAM;QAACC,EAAE,EAAC,IAAI;QAAArB,QAAA,EAClB5C,OAAA;UAAK2C,SAAS,EAAC,mDAAmD;UAAAC,QAAA,GAChE5C,OAAA;YAAA4C,QAAA,EAAM;UAA0B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EACvCjD,OAAA,CAACP,IAAI,CAACqF,MAAM;YACVC,KAAK,EAAE;cAAEC,KAAK,EAAE;YAAO,CAAE;YACzBC,KAAK,EAAEjE,cAAe;YACtBkE,QAAQ,EAAGC,CAAC,IAAKlE,iBAAiB,CAACkE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YAAArC,QAAA,GAEnD5C,OAAA;cAAQiF,KAAK,EAAC,KAAK;cAAArC,QAAA,EAAC;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACrCjD,OAAA;cAAQiF,KAAK,EAAC,OAAO;cAAArC,QAAA,EAAC;YAAK;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACpCjD,OAAA;cAAQiF,KAAK,EAAC,MAAM;cAAArC,QAAA,EAAC;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACzCjD,OAAA;cAAQiF,KAAK,EAAC,OAAO;cAAArC,QAAA,EAAC;YAAY;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC3CjD,OAAA;cAAQiF,KAAK,EAAC,SAAS;cAAArC,QAAA,EAAC;YAAa;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC9CjD,OAAA;cAAQiF,KAAK,EAAC,SAAS;cAAArC,QAAA,EAAC;YAAa;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC9CjD,OAAA;cAAQiF,KAAK,EAAC,MAAM;cAAArC,QAAA,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACX;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,EACdjD,OAAA,CAACb,IAAI,CAAC+E,IAAI;QAAAtB,QAAA,EACP1B,eAAe,GACdlB,OAAA;UAAK2C,SAAS,EAAC,aAAa;UAAAC,QAAA,GAC1B5C,OAAA,CAACX,OAAO;YAACwD,SAAS,EAAC,QAAQ;YAAC2C,IAAI,EAAC;UAAI;YAAA1C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACxCjD,OAAA;YAAA4C,QAAA,EAAG;UAAwB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC,GACJ,CAACnC,eAAe,GAClBd,OAAA,CAACZ,KAAK;UAAC8D,OAAO,EAAC,MAAM;UAAAN,QAAA,EAAC;QAAmC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,GAEjEjD,OAAA,CAAAE,SAAA;UAAA0C,QAAA,GACE5C,OAAA,CAACf,GAAG;YAAC0D,SAAS,EAAC,MAAM;YAAAC,QAAA,EACnB5C,OAAA,CAACd,GAAG;cAAC6E,EAAE,EAAE,EAAG;cAAAnB,QAAA,EACV5C,OAAA;gBAAK2C,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,EAC1C5C,OAAA;kBAAI2C,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAC,oBAAkB,EAAC9B,eAAe,EAAE6D,cAAc,IAAI,CAAC;gBAAA;kBAAA7B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAENjD,OAAA,CAACf,GAAG;YAAA2D,QAAA,GACF5C,OAAA,CAACd,GAAG;cAAC6E,EAAE,EAAE,CAAE;cAACpB,SAAS,EAAC,MAAM;cAAAC,QAAA,GAC1B5C,OAAA;gBAAA4C,QAAA,EAAI;cAAgB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACxB,CAACnC,eAAe,IAAI,CAACA,eAAe,CAACqF,cAAc,IAAIC,MAAM,CAACC,IAAI,CAACvF,eAAe,CAACqF,cAAc,CAAC,CAACtB,MAAM,KAAK,CAAC,GAC9G7E,OAAA;gBAAA4C,QAAA,EAAG;cAA0C;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,GAEjDjD,OAAA,CAACT,KAAK;gBAACoG,UAAU;gBAACC,OAAO;gBAACC,KAAK;gBAAAjD,QAAA,GAC7B5C,OAAA;kBAAA4C,QAAA,EACE5C,OAAA;oBAAA4C,QAAA,GACE5C,OAAA;sBAAA4C,QAAA,EAAI;oBAAI;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,EACbjD,OAAA;sBAAA4C,QAAA,EAAI;oBAAU;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjB;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC,EACRjD,OAAA;kBAAA4C,QAAA,EACGwD,MAAM,CAACE,OAAO,CAACxF,eAAe,CAACqF,cAAc,IAAI,CAAC,CAAC,CAAC,CAClDd,GAAG,CAAC,CAAC,CAACkB,IAAI,EAAEC,KAAK,CAAC,KACjBxG,OAAA;oBAAA4C,QAAA,GACE5C,OAAA;sBAAA4C,QAAA,EAAK2D;oBAAI;sBAAAzD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,EACfjD,OAAA;sBAAA4C,QAAA,EAAK4D;oBAAK;sBAAA1D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA,GAFTsD,IAAI;oBAAAzD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAGT,CACL;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CACR;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,EAENjD,OAAA,CAACd,GAAG;cAAC6E,EAAE,EAAE,CAAE;cAAAnB,QAAA,GACT5C,OAAA;gBAAA4C,QAAA,EAAI;cAAoB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EAC5B,CAACnC,eAAe,IAAI,CAACA,eAAe,CAAC2F,kBAAkB,IAAIL,MAAM,CAACC,IAAI,CAACvF,eAAe,CAAC2F,kBAAkB,CAAC,CAAC5B,MAAM,KAAK,CAAC,GACtH7E,OAAA;gBAAA4C,QAAA,EAAG;cAA0C;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,GAEjDjD,OAAA,CAACT,KAAK;gBAACoG,UAAU;gBAACC,OAAO;gBAACC,KAAK;gBAAAjD,QAAA,GAC7B5C,OAAA;kBAAA4C,QAAA,EACE5C,OAAA;oBAAA4C,QAAA,GACE5C,OAAA;sBAAA4C,QAAA,EAAI;oBAAQ;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,EACjBjD,OAAA;sBAAA4C,QAAA,EAAI;oBAAU;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjB;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC,EACRjD,OAAA;kBAAA4C,QAAA,EACGwD,MAAM,CAACE,OAAO,CAACxF,eAAe,CAAC2F,kBAAkB,IAAI,CAAC,CAAC,CAAC,CACtDpB,GAAG,CAAC,CAAC,CAACqB,QAAQ,EAAEF,KAAK,CAAC,KACrBxG,OAAA;oBAAA4C,QAAA,GACE5C,OAAA;sBAAA4C,QAAA,EAAK8D;oBAAQ;sBAAA5D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,EACnBjD,OAAA;sBAAA4C,QAAA,EAAK4D;oBAAK;sBAAA1D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA,GAFTyD,QAAQ;oBAAA5D,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAGb,CACL;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CACR;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,eACN;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEhB,CAAC;AAED,eAAe9C,UAAU","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}